/* Parámetros tipográficos y cromáticos */
:root{
  --font-ui: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, monospace;

  --ink-900: #0f0f10;
  --ink-800: #1a1a1c;
  --ink-700: #232426;
  --ink-600: #2f3133;
  --ink-500: #3b3d40;
  --ink-400: #56585d;
  --ink-300: #8e9196;
  --ink-200: #b7bbc0;

  --line: rgba(0,0,0,.12);

  --underline: rgba(0,0,0,.8);
  --menu-accent: rgba(0,0,0,.8);

  --measure: 74ch;

  /* Altura del menú fijo y safe-area para notch */
  --nav-h: 60px;
  --safe-top: env(safe-area-inset-top, 0px);
}

/* Texto base y legibilidad */
html{ scroll-behavior:smooth }
body{
  font-family: var(--font-ui);
  color: var(--ink-700);
  font-weight: 400;
  letter-spacing: .005em;
  line-height: 1.75;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;

  /* Empuja el contenido para no quedar debajo del header fijo */
  padding-top: calc(var(--nav-h) + var(--safe-top));
}

p{ margin: .35rem 0 1.05rem }
ul,ol{ padding-left: 1.3rem; margin: .15rem 0 1.05rem }
li{ margin:.15rem 0 .35rem }
dl{ margin:0 }
dd{ margin: .25rem 0 .85rem 0 }

/* Enlaces con subrayado progresivo */
a{
  color: var(--ink-700);
  text-decoration: none;
  background-image: linear-gradient(currentColor, currentColor);
  background-position: 0 100%;
  background-repeat: no-repeat;
  background-size: 0% 2px;
  transition: background-size .25s ease, color .2s ease;
}
a:hover, a:focus{
  color: var(--ink-900);
  background-size: 100% 2px;
  outline: none;
}

/* Titulares: misma tipografía, bold, subrayados */
h1, h2{
  font-family: var(--font-ui);
  font-weight: 700;
  color: var(--ink-900);
  text-decoration: underline;
  text-decoration-color: var(--underline);
  text-decoration-thickness: .12em;
  text-underline-offset: .18em;
  letter-spacing: .01em;
  line-height: 1.15;
  margin: 0 0 .25rem;
  max-width: var(--measure);
}
h3{
  font-family: var(--font-ui);
  color: var(--ink-800);
  font-weight:700;
  letter-spacing:.04em;
  text-transform:uppercase;
  margin: .1rem 0 .6rem;
}

/* Contenedor */
.container{ max-width: 1100px; margin-inline: auto; padding: 1rem }
@media (min-width: 720px){ .container{ padding: 1.25rem } }
@media (min-width: 960px){ .container{ padding: 1.5rem } }

/* Portada */
.cover{
  display:grid; place-items:center;
  min-height:55vh; padding:3rem 1rem;
  background:#fff; color:var(--ink-900); text-align:center;
  border-bottom:1px solid var(--line);
}
.subtitle{
  margin:0; color:var(--ink-300);
  font-weight: 600; letter-spacing:.1em; text-transform: uppercase;
  font-size: .9rem;
  opacity: 0; transform: translateY(8px);
  transition: opacity .5s ease .2s, transform .5s ease .2s;
}

/* Título con animación “máquina de escribir” */
.title{
  font-size: clamp(1.8rem, 8.5vw, 6rem);
  line-height:1.02;
  display:inline-block;
  overflow:hidden; white-space:nowrap;
  border-right:0.12em solid currentColor;
  max-width:92vw;
  width:0;
  animation: typing 3s steps(30, end) forwards,
             blink-caret .75s step-end infinite;
  will-change: width;
  opacity: 0;
  transition: opacity .2s ease .2s;
}
.title.reveal.in + .subtitle.reveal{ opacity:1; transform: none }
@keyframes typing{ from{ width:0; opacity:1 } to{ width:100%; opacity:1 } }
@keyframes blink-caret{ 50%{ border-color: transparent } }
@media (prefers-reduced-motion: reduce){
  .title{ animation:none; width:auto; border-right:none; opacity:1 }
  .subtitle{ opacity:1; transform:none }
}

/* ===== MENÚ FIJO (siempre visible) ===== */
.site-nav{
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--nav-h);
  z-index: 9999;
  background: rgba(255,255,255,.95);
  border-top:1px solid var(--line);
  border-bottom:1px solid var(--line);
  box-shadow: 0 2px 5px rgba(0,0,0,.08);
  backdrop-filter: saturate(120%) blur(6px);

  /* Soporte notch */
  padding-top: var(--safe-top);
  display: flex; align-items: center;
}

/* NUEVO: una sola fila con scroll horizontal en móvil */
.site-nav ul{
  list-style: none; margin: 0;
  padding: 0 .75rem;
  display: flex; gap: 1rem;
  align-items: center; justify-content: center;
  width:100%;

  /* evita wrap y permite desplazamiento horizontal */
  flex-wrap: nowrap;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
}
.site-nav ul::-webkit-scrollbar{ height:6px }
.site-nav ul::-webkit-scrollbar-thumb{ background: rgba(0,0,0,.15); border-radius:3px }

.site-nav a{
  display:block; padding:.5rem .6rem;
  color:var(--ink-400);
  text-transform:uppercase; letter-spacing:.13em;
  font-weight:600; font-size:.85rem;
  white-space: nowrap; /* clave para no romper a 2 líneas */
  transition: color .2s ease, background .2s ease, text-decoration-color .2s ease;
  text-decoration: none;
  background-image: linear-gradient(var(--menu-accent), var(--menu-accent));
  background-position: 0 100%; background-repeat: no-repeat; background-size: 0% 2px;
}
.site-nav li + li a{ position:relative }
.site-nav li + li a::before{
  content:"|"; position:absolute; left:-.8rem; top:.08rem; color:var(--ink-200);
}
.site-nav a:hover, .site-nav a:focus{
  color: var(--ink-900);
  background-size: 100% 2px;
  outline:none;
  background-color: rgba(0,0,0,.03);
  border-radius:.35rem;
}
.site-nav a.is-active{
  color: var(--ink-900);
  background-size: 100% 2px;
}

/* Ajustes específicos para pantallas estrechas */
@media (max-width: 640px){
  :root{ --nav-h: 56px; }
  .site-nav ul{ gap: .6rem; padding: 0 .5rem }
  .site-nav a{ font-size: .8rem; padding: .45rem .5rem }
  .site-nav li + li a::before{ left:-.5rem }
}
@media (max-width: 420px){
  :root{ --nav-h: 52px; }
  .site-nav a{ font-size: .76rem; letter-spacing:.11em }
  /* Quita separadores para ahorrar espacio */
  .site-nav li + li a::before{ display:none }
}

/* Sección de cada sitio */
.site-block{ 
  padding:2.5rem 1rem; 
  border-bottom:1px solid var(--line); 
  position: relative;
  /* Compensa el header fijo al navegar por anclas */
  scroll-margin-top: calc(var(--nav-h) + var(--safe-top) + 12px);
}
.block-header{ display:flex; flex-direction:column; gap:.25rem; margin-bottom:1rem }
.block-header::after{
  content:""; display:block; height:1px; background: linear-gradient(90deg, rgba(0,0,0,.1), rgba(0,0,0,0));
  margin-top:.5rem;
}
.block-header h2{ font-size:clamp(1.9rem, 5vw, 3.2rem) }
.block-header .meta{
  color:var(--ink-300); margin:0; font-size:.95rem; font-weight:500; letter-spacing:.02em;
}
.block-header .meta a{ color:inherit }

/* Integración iframe */
.iframe-wrap{ margin:1rem 0 }
.iframe-wrap iframe{
  width:100%; aspect-ratio: 16 / 9;
  border:1px solid var(--line); background:#fff
}
.iframe-wrap figcaption{
  font-size:.85rem; color:var(--ink-300); margin-top:.5rem; text-align:center;
}

/* Bloques de análisis */
.analysis{
  display:grid; gap:1rem; margin-top:1rem;
  grid-template-columns: 1fr;
}
@media (min-width: 780px){ .analysis{ grid-template-columns: 1fr 1fr } }
@media (min-width: 1240px){ .analysis{ grid-template-columns: 1fr 1fr } }

.group{
  background:#fff; border:1px solid var(--line);
  border-radius:.75rem; padding:1.2rem 1.25rem;
  box-shadow: 0 1px 0 rgba(0,0,0,.03);
  max-width: var(--measure);
}
.group dt{
  font-weight: 700; color: var(--ink-700);
  margin-top:.6rem; letter-spacing:.06em; text-transform:uppercase;
}
.group dd{ color:var(--ink-500) }
.group p{ color:var(--ink-600) }

/* Galería de capturas */
.screenshots{
  display:grid; gap:1rem;
  grid-template-columns: repeat(auto-fit, minmax(260px,1fr));
  margin-top:1.25rem;
}
.screenshots figure{
  position: relative; border:1px solid var(--line); border-radius:.75rem;
  overflow:hidden; background:#fff; outline: none;
}
.screenshots img{
  width:100%; max-width: 560px; height:auto; display:block; margin:0 auto;
  transition: opacity .25s ease, transform .25s ease;
}
.screenshots figcaption{
  position:absolute; inset:0; display:grid; place-items:center;
  background: rgba(0,0,0,.55); color:#fff; font-weight:600;
  letter-spacing:.08em; text-transform:uppercase;
  opacity:0; transition: opacity .25s ease; padding:.5rem; text-align:center;
}
.screenshots figure:hover img,
.screenshots figure:focus img,
.screenshots figure:focus-within img{ opacity:.6 }
.screenshots figure:hover figcaption,
.screenshots figure:focus figcaption,
.screenshots figure:focus-within figcaption{ opacity:1 }
.screenshots figure:focus-visible{ box-shadow: 0 0 0 3px rgba(0,122,204,.35) }

/* Pie de página */
.site-footer{
  border-top: 1px solid var(--line);
  background: #fff;
  padding: 1.5rem 1rem;
  text-align: center;
}
.footer-links{
  list-style: none;
  padding: 0;
  margin: 0 0 .5rem;
  display: flex;
  flex-wrap: wrap;
  gap: .75rem 1rem;
  justify-content: center;
}
.footer-links a{
  color: var(--ink-600);
  font-weight: 600;
  letter-spacing: .04em;
  text-transform: uppercase;
  font-size: .82rem;
}
.footer-links a:hover,
.footer-links a:focus{
  color: var(--ink-900);
}
.credits{
  color: var(--ink-400);
  margin: 0;
  font-size: .9rem;
}

/* Botón “volver arriba” */
.to-top{
  position: fixed; right: 1.1rem; bottom: 1.1rem;
  width: 2.75rem; height: 2.75rem; border-radius: 50%;
  background: #fff; color: var(--ink-900);
  border: 1px solid var(--line);
  box-shadow: 0 6px 18px rgba(0,0,0,.08);
  display: grid; place-items: center;
  font-size: 1.2rem; line-height: 1; cursor: pointer;
  opacity: 0; visibility: hidden; transform: translateY(12px);
  transition: opacity .2s ease, transform .2s ease, visibility .2s;
}
.to-top.show{ opacity:1; visibility: visible; transform: translateY(0) }
.to-top:hover{ background: #f6f6f6 }

/* Impresión */
@media print{
  .site-nav, .cover figcaption, .to-top { display:none !important }
  .cover{ min-height:auto; color:#000; background:#fff }
  a[href]:after{ content:" (" attr(href) ")" }
}

/* Aparición progresiva */
.reveal{ opacity: 0; transform: translateY(12px); transition: opacity .5s ease, transform .5s ease }
.reveal.in{ opacity: 1; transform: none }

/* Ajustes título en móviles */
@media (max-width: 600px){
  .cover{ padding:2.25rem 1rem }
  .title{ font-size: clamp(1.6rem, 9.2vw, 3.2rem); letter-spacing:.035em }
}
@media (max-width: 380px){
  .title{ font-size: clamp(1.4rem, 9.6vw, 2.4rem); letter-spacing:.03em }
}

